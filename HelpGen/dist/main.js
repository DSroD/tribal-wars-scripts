(()=>{"use strict";var e={409:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.bb_code=void 0,t.bb_code=function(e){return"[".concat(e[0],"]").concat(e[1],"[/").concat(e[0],"]")}}},t={};function n(a){var r=t[a];if(void 0!==r)return r.exports;var o=t[a]={exports:{}};return e[a](o,o.exports,n),o.exports}(()=>{var e=n(409),t={first_arrival_time:null,game_speed:1},a={spear:18,sword:22,axe:18,archer:18,spy:9,light:10,marcher:10,heavy:11,ram:30,catapult:30,knight:10,snob:35};function r(n,r,o){if(void 0===o&&(o=null),!(n.children.length<6)){var c=n.children[1],i=c.rows[1].cells[2].innerText,l=c.rows[2].cells[1].innerText.slice(-12,-5),s=c.rows[4].cells[1].innerText.slice(-12,-5),d=c.rows[5].cells[1].innerText,u=l.split("|").map((function(e){return parseInt(e)})),p=s.split("|").map((function(e){return parseInt(e)})),m=Math.sqrt(Math.pow(u[0]-p[0],2)+Math.pow(u[1]-p[1],2)),h=o?"(Ruční odhad)":"(Vypočteno z času dopadu)";o||(o=function(e){var n=t.first_arrival_time.split(":"),r=n[0],o=n[1],c=n[2],i=parseFloat(o)+60*parseFloat(r)+parseFloat(c)/60,l=window.game_data.units.map((function(n){return[n,e*a[n]/t.game_speed]}));return l.push([null,1/0]),l.reduceRight((function(e,t){return e[1]>t[1]&&t[1]>i?t:e}))[0]}(m)),r.value=["Útočník: ".concat((0,e.bb_code)(["player",i])," z ").concat((0,e.bb_code)(["coord",l])),"Cíl útoku: ".concat((0,e.bb_code)(["coord",s])," "),"Vzdálenost: ".concat(m.toPrecision(2)),"Dopad: ".concat(d),"Odhad nejpomalejší jednotky: ".concat(o?(0,e.bb_code)(["unit",o]):"??"),"".concat(h)].join("\r\n")}}!function(){if(null!==(n="info_command"===(null===(e=window.game_data)||void 0===e?void 0:e.screen))&&void 0!==n&&n&&document.getElementById("content_value")){var e,n,a=document.getElementById("content_value");t.first_arrival_time||(t.first_arrival_time=a.children[1].rows[6].cells[1].innerText),(o="https://".concat(window.game_data.world,".divokekmeny.cz/page/settings"),fetch(o).then((function(e){return e.text()})).then((function(e){return function(e){var t=(new DOMParser).parseFromString(e,"text/html");return parseFloat(t.getElementsByClassName("data-table")[0].rows[0].cells[1].textContent)*parseFloat(t.getElementsByClassName("data-table")[0].rows[1].cells[1].textContent)}(e)})).catch((function(e){return 1}))).then((function(e){t.game_speed=e})).then((function(){return function(e){var t=document.createElement("div");t.style.display="flex",t.style.flexDirection="column",t.style.alignItems="start";var n=document.createElement("textarea"),a=document.createElement("div");a.style.display="flex",a.style.flexDirection="row";for(var o=0,c=window.game_data.units;o<c.length;o++){var i=c[o],l=document.createElement("img");l.setAttribute("data",i),l.src="https://dscs.innogamescdn.com/asset/41eac3fa/graphic/unit/unit_".concat(i,".png"),l.onclick=function(t){return r(e,n,t.target.getAttribute("data"))},l.width=20,l.height=20,l.style.margin="2px",a.append(l)}var s=document.createElement("img");s.src="https://dscs.innogamescdn.com/asset/41eac3fa/graphic/delete.png",s.onclick=function(){return r(e,n)},s.width=20,s.height=20,s.style.margin="2px",a.append(s),n.id="helpRequest",n.style.width="530px",n.style.height="180px",e.appendChild(a),t.appendChild(n);var d=document.createElement("button");return d.innerText="Zkopírovat",d.onclick=function(){n.select(),document.execCommand("copy")},t.appendChild(d),e.appendChild(t),n}(a)})).then((function(e){r(a,e)}))}var o}()})()})();